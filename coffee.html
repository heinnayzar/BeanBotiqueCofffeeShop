<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bean Boutique - Coffee Selection</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Agdasima:wght@400;700&family=Arima:wght@100..700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<link rel="stylesheet" href="style.css">
  <style>

    /* Custom style for coffee list */
    .coffee-item {
      display: flex;
      margin-bottom: 25px;
      padding: 15px;
      /* border: 1px solid #ddd; */
      border-radius: 5px;
      /* background-color: #f9f9f9; */
      background-color: white;
      flex-direction: row; /* Default to row for larger screens */
    }

    /* Coffee image */
    .coffee-item img {
      width: 25%;
      height: auto; /* Maintain aspect ratio */
      object-fit: cover;
      margin-right: 20px;
      border-radius: 5px;
      align-self: center; /* Center vertically */
    }

    /* Coffee details on the right */
    .coffee-details {
      width: 75%; /* Maintain proportions */
      display: flex;
      flex-direction: column;
      /* justify-content: space-around; */
    }

    .coffee-details h5 {
      font-size: 1.5rem;
      margin-bottom: 10px;
    }

    .coffee-details p {
      font-size: 1rem;
    }

    .coffee-details ul {
      padding-left: 20px;
      margin-bottom: 10px;
    }

    .coffee-details .price {
      font-size: 1.2rem;
      font-weight: bold;
    }

    .btn-group button {
      flex: 1;
      min-width: 100px;
    }

    /* Grind Type and Size Buttons Group */
    .btn-group {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 10px;
    }

    /* Quantity controls */
    .quantity-controls {
      display: flex;
      align-items: center;
      margin-bottom: 10px;
    }

    .quantity-controls button {
      width: 35px;
      height: 35px;
    }

    /* Selected button style */
    .selected {
      background-color: black !important;
      color: white !important;
    }

    /* Responsive design: Image and font sizes for smaller screens */
    @media (max-width: 768px) {

      ul {
        list-style: none;
      }

      .coffee-item {
        flex-direction: column; /* Stack image on top for smaller screens */
        align-items: center; /* Center align items */
      }

      .coffee-item img {
        width: 50%; /* Smaller image width on small screens */
        margin-right: 0; /* Remove right margin */
        margin-bottom: 15px; /* Space between image and details */
      }

      .coffee-details {
        width: 100%; /* Full width for details */
        text-align: center; /* Center text for details */
      }

      .coffee-details h5 {
        font-size: 1.5rem; /* Keep heading font size */
      }

      .coffee-details p {
        font-size: 0.9rem; /* Smaller paragraph font */
      }

      .coffee-details .price {
        font-size: 1rem; /* Smaller price font */
      }

      .btn-group .btn {
        flex: 0 0 48%; 
        margin-bottom: 10px;
      }

      .quantity-controls {
        flex-direction: column; /* Stack quantity controls */
      }
    }
  </style>
</head>
<body>

  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-light bg-white sticky-top shadow-lg">
    <div class="container-fluid">
        <a class="navbar-brand" href="#">Bean Boutique</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">
                <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
                <li class="nav-item"><a class="nav-link" href="coffee.html">Coffee</a></li>
                <li class="nav-item"><a class="nav-link" href="equipment.html">Equipment</a></li>
                <li class="nav-item"><a class="nav-link" href="events.html">Events</a></li>
                <li class="nav-item"><a class="nav-link" href="offers.html">Offers</a></li>
                <li class="nav-item"><a class="nav-link" href="signup.html">SignUp</a></li>
                <li class="nav-item">
                    <a class="nav-link" href="cart.html">Cart <span id="cart-badge" class="badge bg-danger" style="display: none;">0</span></a>
                </li>
            </ul>
        </div>
    </div>
  </nav>


  <!-- Coffee Selection Header -->
  <header class="container mt-5 text-center">
    <h2 class="mb-4">Coffee Bean Selection</h2>
    <p>Discover our range of unique blends and single-origin coffees, each crafted to perfection.</p>
  </header>

  <!-- Search Bar and Clear Button (in one line) -->
  <div class="container text-center mb-4">
    <div class="row justify-content-center">
      <div class="col-md-8">
        <div class="input-group">
          <input type="text" id="search-coffee" class="form-control" placeholder="Search Coffee" onkeyup="searchCoffee()">
          <button class="btn btn-outline-secondary" onclick="clearSearch()">Clear</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Coffee Catalogue Section -->
  <section id="coffee-catalogue" class="container mt-5">

    <!-- No Results Message -->
    <p id="no-results" class="text-center text-danger" style="display:none;">No products found matching your search.</p>

    <div id="coffee-list">
      
      <!-- Coffee 1: Signature Blend -->
      <div class="coffee-item" data-name="Signature Blend">
        <img src="images/coffee1.jpg" alt="Signature Blend">
        <div class="coffee-details">
          <h5>Signature Blend</h5>
          <p>A balanced blend with rich chocolate notes and a hint of caramel. Perfect for any time of day.</p>
          <ul>
            <li><strong>Tasting Notes:</strong> Chocolate, Caramel, Nutty</li>
            <li><strong>Brewing Methods:</strong> Drip, French Press, Espresso</li>
          </ul>
          
          <!-- Grind Type Buttons -->
          <p>Grind Type</p>
          <div class="btn-group">
            <button class="btn btn-outline-secondary" onclick="chooseGrind(1, 'Whole Beans', event)">Whole Beans</button>
            <button class="btn btn-outline-secondary" onclick="chooseGrind(1, 'Coarse Grind', event)">Coarse Grind</button>
            <button class="btn btn-outline-secondary" onclick="chooseGrind(1, 'Fine Grind', event)">Fine Grind</button>
            <button class="btn btn-outline-secondary" onclick="chooseGrind(1, 'Medium Grind', event)">Medium Grind</button>
            <button class="btn btn-outline-secondary" onclick="chooseGrind(1, 'Espresso Grind', event)">Espresso Grind</button>
          </div>

          <!-- Size Buttons -->
           <p>Size</p>
          <div class="btn-group">
            <button class="btn btn-outline-secondary" onclick="chooseSize(1, '250g', 10, event)">250g - $10</button>
            <button class="btn btn-outline-secondary" onclick="chooseSize(1, '500g', 18, event)">500g - $18</button>
            <button class="btn btn-outline-secondary" onclick="chooseSize(1, '1kg', 34, event)">1kg - $34</button>
          </div>

          <p class="price">Price: $<span id="price1">10.00</span></p>
          <!-- Quantity Controls -->
          <div class="w-100 mb-3 d-flex align-items-center">
            <div class="input-group me-2" style="flex: 0 0 30%;">
                <button class="btn btn-outline-secondary" type="button" onclick="changeQuantity(1, -1)">-</button>
                <input type="number" id="quantity1" value="1" min="1" class="form-control text-center" readonly>
                <button class="btn btn-outline-secondary" type="button" onclick="changeQuantity(1, 1)">+</button>
            </div>
            
            <div style="flex: 0 0 70%;">
              <button class="specialbutton w-100" id="shopNow1" onclick="addToCart(1)"><a class="text-decoration-none">Add To Cart</a></button>
            </div>    
          </div>                    
        </div>
      </div>

      <!-- Coffee 2: Colombian Supremo -->
      <div class="coffee-item" data-name="Colombian Supremo">
        <img src="images/coffee2.jpg" alt="Colombian Supremo">
        <div class="coffee-details">
          <h5>Colombian Supremo</h5>
          <p>A smooth, full-bodied coffee with bright acidity and fruity undertones, perfect for a refreshing start to your day.</p>
          <ul>
            <li><strong>Tasting Notes:</strong> Fruity, Citrus, Floral</li>
            <li><strong>Brewing Methods:</strong> Drip, Pour Over, Espresso</li>
          </ul>
          
          <p>Grind Type</p>
          <div class="btn-group">
            <button class="btn btn-outline-secondary" onclick="chooseGrind(2, 'Whole Beans', event)">Whole Beans</button>
            <button class="btn btn-outline-secondary" onclick="chooseGrind(2, 'Coarse Grind', event)">Coarse Grind</button>
            <button class="btn btn-outline-secondary" onclick="chooseGrind(2, 'Fine Grind', event)">Fine Grind</button>
            <button class="btn btn-outline-secondary" onclick="chooseGrind(2, 'Medium Grind', event)">Medium Grind</button>
            <button class="btn btn-outline-secondary" onclick="chooseGrind(2, 'Espresso Grind', event)">Espresso Grind</button>
          </div>

          <p>Size</p>
          <div class="btn-group">
            <button class="btn btn-outline-secondary" onclick="chooseSize(2, '250g', 12, event)">250g - $12</button>
            <button class="btn btn-outline-secondary" onclick="chooseSize(2, '500g', 20, event)">500g - $20</button>
            <button class="btn btn-outline-secondary" onclick="chooseSize(2, '1kg', 36, event)">1kg - $36</button>
          </div>

          <p class="price">Price: $<span id="price2">12.00</span></p>
          <div class="w-100 mb-3 d-flex align-items-center">
            <div class="input-group me-2" style="flex: 0 0 30%;">
                <button class="btn btn-outline-secondary" type="button" onclick="changeQuantity(2, -1)">-</button>
                <input type="number" id="quantity2" value="1" min="1" class="form-control text-center" readonly>
                <button class="btn btn-outline-secondary" type="button" onclick="changeQuantity(2, 1)">+</button>
            </div>
            
            <div style="flex: 0 0 70%;">
              <button class="specialbutton w-100" id="shopNow2" onclick="addToCart(2)"><a class="text-decoration-none">Add To Cart</a></button>
            </div>    
          </div>                    
        </div>
      </div>

      <!-- Coffee 3: Italian Roast -->
      <div class="coffee-item" data-name="Italian Roast">
        <img src="images/coffee3.jpg" alt="Italian Roast">
        <div class="coffee-details">
          <h5>Italian Roast</h5>
          <p>A dark, bold roast with a smoky finish, perfect for those who love strong coffee.</p>
          <ul>
            <li><strong>Tasting Notes:</strong> Dark Chocolate, Smoky, Bold</li>
            <li><strong>Brewing Methods:</strong> French Press, Espresso, Moka Pot</li>
          </ul>
          
          <p>Grind Type</p>
          <div class="btn-group">
            <button class="btn btn-outline-secondary" onclick="chooseGrind(3, 'Whole Beans', event)">Whole Beans</button>
            <button class="btn btn-outline-secondary" onclick="chooseGrind(3, 'Coarse Grind', event)">Coarse Grind</button>
            <button class="btn btn-outline-secondary" onclick="chooseGrind(3, 'Fine Grind', event)">Fine Grind</button>
            <button class="btn btn-outline-secondary" onclick="chooseGrind(3, 'Medium Grind', event)">Medium Grind</button>
            <button class="btn btn-outline-secondary" onclick="chooseGrind(3, 'Espresso Grind', event)">Espresso Grind</button>
          </div>

          <p>Size</p>
          <div class="btn-group">
            <button class="btn btn-outline-secondary" onclick="chooseSize(3, '250g', 14, event)">250g - $14</button>
            <button class="btn btn-outline-secondary" onclick="chooseSize(3, '500g', 22, event)">500g - $22</button>
            <button class="btn btn-outline-secondary" onclick="chooseSize(3, '1kg', 40, event)">1kg - $40</button>
          </div>

          <p class="price">Price: $<span id="price3">14.00</span></p>
          <div class="w-100 mb-3 d-flex align-items-center">
            <div class="input-group me-2" style="flex: 0 0 30%;">
                <button class="btn btn-outline-secondary" type="button" onclick="changeQuantity(3, -1)">-</button>
                <input type="number" id="quantity3" value="1" min="1" class="form-control text-center" readonly>
                <button class="btn btn-outline-secondary" type="button" onclick="changeQuantity(3, 1)">+</button>
            </div>
            
            <div style="flex: 0 0 70%;">
              <button class="specialbutton w-100" id="shopNow3" onclick="addToCart(3)"><a class="text-decoration-none">Add To Cart</a></button>
            </div>    
          </div>                    
        </div>
      </div>

      <!-- Coffee 4: Ethiopian Yirgacheffe -->
      <div class="coffee-item" data-name="Ethiopian Yirgacheffe">
        <img src="images/coffee4.jpg" alt="Ethiopian Yirgacheffe">
        <div class="coffee-details">
          <h5>Ethiopian Yirgacheffe</h5>
          <p>A light, floral coffee with vibrant acidity and complex flavors, perfect for connoisseurs.</p>
          <ul>
            <li><strong>Tasting Notes:</strong> Floral, Berry, Citrus</li>
            <li><strong>Brewing Methods:</strong> Pour Over, Chemex, French Press</li>
          </ul>
          
          <p>Grind Type</p>
          <div class="btn-group">
            <button class="btn btn-outline-secondary" onclick="chooseGrind(4, 'Whole Beans', event)">Whole Beans</button>
            <button class="btn btn-outline-secondary" onclick="chooseGrind(4, 'Coarse Grind', event)">Coarse Grind</button>
            <button class="btn btn-outline-secondary" onclick="chooseGrind(4, 'Fine Grind', event)">Fine Grind</button>
            <button class="btn btn-outline-secondary" onclick="chooseGrind(4, 'Medium Grind', event)">Medium Grind</button>
            <button class="btn btn-outline-secondary" onclick="chooseGrind(4, 'Espresso Grind', event)">Espresso Grind</button>
          </div>

          <p>Size</p>
          <div class="btn-group">
            <button class="btn btn-outline-secondary" onclick="chooseSize(4, '250g', 15, event)">250g - $15</button>
            <button class="btn btn-outline-secondary" onclick="chooseSize(4, '500g', 24, event)">500g - $24</button>
            <button class="btn btn-outline-secondary" onclick="chooseSize(4, '1kg', 42, event)">1kg - $42</button>
          </div>

          <p class="price">Price: $<span id="price4">15.00</span></p>
          <div class="w-100 mb-3 d-flex align-items-center">
            <div class="input-group me-2" style="flex: 0 0 30%;">
                <button class="btn btn-outline-secondary" type="button" onclick="changeQuantity(4, -1)">-</button>
                <input type="number" id="quantity4" value="1" min="1" class="form-control text-center" readonly>
                <button class="btn btn-outline-secondary" type="button" onclick="changeQuantity(4, 1)">+</button>
            </div>
            
            <div style="flex: 0 0 70%;">
              <button class="specialbutton w-100" id="shopNow4" onclick="addToCart(4)"><a class="text-decoration-none">Add To Cart</a></button>
            </div>    
          </div>                    
        </div>
      </div>

      <!-- Coffee 5: Sumatra Mandheling -->
      <div class="coffee-item" data-name="Sumatra Mandheling">
        <img src="images/coffee5.jpg" alt="Sumatra Mandheling">
        <div class="coffee-details">
          <h5>Sumatra Mandheling</h5>
          <p>A rich and earthy coffee with herbal notes and a full body, perfect for a cozy evening.</p>
          <ul>
            <li><strong>Tasting Notes:</strong> Earthy, Herbal, Chocolate</li>
            <li><strong>Brewing Methods:</strong> French Press, Cold Brew, Espresso</li>
          </ul>
          
          <p>Grind Type</p>
          <div class="btn-group">
            <button class="btn btn-outline-secondary" onclick="chooseGrind(5, 'Whole Beans', event)">Whole Beans</button>
            <button class="btn btn-outline-secondary" onclick="chooseGrind(5, 'Coarse Grind', event)">Coarse Grind</button>
            <button class="btn btn-outline-secondary" onclick="chooseGrind(5, 'Fine Grind', event)">Fine Grind</button>
            <button class="btn btn-outline-secondary" onclick="chooseGrind(5, 'Medium Grind', event)">Medium Grind</button>
            <button class="btn btn-outline-secondary" onclick="chooseGrind(5, 'Espresso Grind', event)">Espresso Grind</button>
          </div>

          <p>Size</p>
          <div class="btn-group">
            <button class="btn btn-outline-secondary" onclick="chooseSize(5, '250g', 16, event)">250g - $16</button>
            <button class="btn btn-outline-secondary" onclick="chooseSize(5, '500g', 26, event)">500g - $26</button>
            <button class="btn btn-outline-secondary" onclick="chooseSize(5, '1kg', 45, event)">1kg - $45</button>
          </div>

          <p class="price">Price: $<span id="price5">16.00</span></p>
          <div class="w-100 mb-3 d-flex align-items-center">
            <div class="input-group me-2" style="flex: 0 0 30%;">
                <button class="btn btn-outline-secondary" type="button" onclick="changeQuantity(5, -1)">-</button>
                <input type="number" id="quantity5" value="1" min="1" class="form-control text-center" readonly>
                <button class="btn btn-outline-secondary" type="button" onclick="changeQuantity(5, 1)">+</button>
            </div>
            
            <div style="flex: 0 0 70%;">
              <button class="specialbutton w-100" id="shopNow5" onclick="addToCart(5)"><a class="text-decoration-none">Add To Cart</a></button>
            </div>    
          </div>                    
        </div>
      </div>

      <!-- Coffee 6: French Vanilla -->
      <div class="coffee-item" data-name="French Vanilla">
        <img src="images/coffee6.jpg" alt="French Vanilla">
        <div class="coffee-details">
          <h5>French Vanilla</h5>
          <p>A creamy, sweet blend with hints of vanilla that creates a comforting and indulgent experience.</p>
          <ul>
            <li><strong>Tasting Notes:</strong> Vanilla, Creamy, Sweet</li>
            <li><strong>Brewing Methods:</strong> Drip, French Press, Espresso</li>
          </ul>
          
          <p>Grind Type</p>
          <div class="btn-group">
            <button class="btn btn-outline-secondary" onclick="chooseGrind(6, 'Whole Beans', event)">Whole Beans</button>
            <button class="btn btn-outline-secondary" onclick="chooseGrind(6, 'Coarse Grind', event)">Coarse Grind</button>
            <button class="btn btn-outline-secondary" onclick="chooseGrind(6, 'Fine Grind', event)">Fine Grind</button>
            <button class="btn btn-outline-secondary" onclick="chooseGrind(6, 'Medium Grind', event)">Medium Grind</button>
            <button class="btn btn-outline-secondary" onclick="chooseGrind(6, 'Espresso Grind', event)">Espresso Grind</button>
          </div>

          <p>Size</p>
          <div class="btn-group">
            <button class="btn btn-outline-secondary" onclick="chooseSize(6, '250g', 11, event)">250g - $11</button>
            <button class="btn btn-outline-secondary" onclick="chooseSize(6, '500g', 19, event)">500g - $19</button>
            <button class="btn btn-outline-secondary" onclick="chooseSize(6, '1kg', 35, event)">1kg - $35</button>
          </div>

          <p class="price">Price: $<span id="price6">11.00</span></p>
          <div class="w-100 mb-3 d-flex align-items-center">
            <div class="input-group me-2" style="flex: 0 0 30%;"> 
                <button class="btn btn-outline-secondary" type="button" onclick="changeQuantity(6, -1)">-</button>
                <input type="number" id="quantity6" value="1" min="1" class="form-control text-center" readonly>
                <button class="btn btn-outline-secondary" type="button" onclick="changeQuantity(6, 1)">+</button>
            </div>
            
            <div style="flex: 0 0 70%;">
              <button class="specialbutton w-100" id="shopNow6" onclick="addToCart(6)"><a class="text-decoration-none">Add To Cart</a></button>
            </div>    
          </div>                    
        </div>
      </div>
  </section>

  <!-- Alert Modal -->
  <div class="modal fade" id="alertModal" tabindex="-1" aria-labelledby="alertModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="alertModalLabel">Cart Notification</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body" id="alertMessage">
          <!-- Alert message will be inserted here -->
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer -->
<footer class="text-white text-center py-4 shadow-lg" style="background-color: skyblue;">
  <p class="mb-2">&copy; 2024 Bean Boutique. All rights reserved.</p>
  <div class="footer-social-media">
    <a href="#" aria-label="Instagram" class="text-white mx-2 h5"><i class="fab fa-instagram"></i></a>
    <a href="#" aria-label="Facebook" class="text-white mx-2 h5"><i class="fab fa-facebook"></i></a>
    <a href="#" aria-label="Twitter" class="text-white mx-2 h5"><i class="fab fa-twitter"></i></a>
  </div>
</footer>

  <!-- JavaScript for Coffee Selection -->
  <script>
    let selectedGrind = {};
    let selectedSize = {};
    let prices = [10, 12]; // Initial prices for each coffee
    let quantities = [1, 1]; // Initial quantities for each coffee

    function chooseGrind(coffeeId, grindType, event) {
      // Deselect all grind buttons
      const buttons = event.target.parentNode.children;
      for (let i = 0; i < buttons.length; i++) {
        buttons[i].classList.remove('selected');
      }
      // Select the chosen grind
      event.target.classList.add('selected');
      selectedGrind[coffeeId] = grindType;
    }

    function chooseSize(coffeeId, size, price, event) {
      // Deselect all size buttons
      const buttons = event.target.parentNode.children;
      for (let i = 0; i < buttons.length; i++) {
        buttons[i].classList.remove('selected');
      }
      // Select the chosen size
      event.target.classList.add('selected');
      selectedSize[coffeeId] = { size: size, price: price };
      updatePrice(coffeeId);
    }

    function changeQuantity(coffeeId, change) {
      const quantityInput = document.getElementById(`quantity${coffeeId}`);
      let newQuantity = parseInt(quantityInput.value) + change;
      if (newQuantity < 1) return; // Don't allow quantity to go below 1
      quantityInput.value = newQuantity;
      quantities[coffeeId - 1] = newQuantity; // Update quantity
      updatePrice(coffeeId);
    }

    function updatePrice(coffeeId) {
      const priceElement = document.getElementById(`price${coffeeId}`);
      if (selectedSize[coffeeId]) {
        const selectedPrice = selectedSize[coffeeId].price;
        const quantity = quantities[coffeeId - 1];
        const totalPrice = selectedPrice * quantity;
        priceElement.textContent = totalPrice.toFixed(2);
      }
    }

    function addToCart(coffeeId) {
    const shopNowButton = document.getElementById(`shopNow${coffeeId}`);

    // Create a unique ID for each item based on coffeeId, grind type, and size
    const itemId = `coffee-${coffeeId}-${selectedGrind[coffeeId]}-${selectedSize[coffeeId].size}`;

    // Check if both grind type and size have been selected
    if (!selectedGrind[coffeeId] || !selectedSize[coffeeId]) {
        showAlert('Please select both grind type and size before adding to cart.');
        return;
    }

    const item = {
        id: itemId, // Unique identifier for this combination of coffee, grind type, and size
        coffeeId: coffeeId,
        name: document.querySelector(`.coffee-item[data-name="${document.querySelector(`.coffee-item:nth-child(${coffeeId})`).getAttribute('data-name')}"] h5`).innerText,
        grindType: selectedGrind[coffeeId],
        size: selectedSize[coffeeId].size,
        price: selectedSize[coffeeId].price,
        quantity: quantities[coffeeId - 1],
        image: document.querySelector(`.coffee-item:nth-child(${coffeeId}) img`).src
    };

    // Retrieve the existing cart from localStorage or create a new array
    let cart = JSON.parse(localStorage.getItem('cart')) || [];

    // Check if an identical item (same grind type, size, and coffeeId) already exists in the cart
    const existingItemIndex = cart.findIndex(cartItem => cartItem.id === item.id);

    if (existingItemIndex !== -1) {
        // If the item exists, just update the quantity
        cart[existingItemIndex].quantity += item.quantity;
    } else {
        // Otherwise, add the new item to the cart
        cart.push(item);
    }

    // Save the updated cart back to localStorage
    localStorage.setItem('cart', JSON.stringify(cart));

    // Update the cart badge dynamically
    updateCartBadge();

    // Show a confirmation alert
    showAlert(`Added ${item.quantity} of ${item.name} (${item.grindType}, ${item.size}) to your cart.`);
}


    function showAlert(message) {
        document.getElementById('alertMessage').textContent = message;
        const alertModal = new bootstrap.Modal(document.getElementById('alertModal'));
        alertModal.show();
    }

    // Ensure the cart badge is updated when the page loads
    document.addEventListener('DOMContentLoaded', updateCartBadge);


    function showAlert(message) {
      document.getElementById('alertMessage').innerText = message;
      const alertModal = new bootstrap.Modal(document.getElementById('alertModal'));
      alertModal.show();
    }

    function searchCoffee() {
      const input = document.getElementById('search-coffee').value.toLowerCase();
      const coffeeItems = document.querySelectorAll('.coffee-item');
      let found = false;
      coffeeItems.forEach(item => {
        const coffeeName = item.getAttribute('data-name').toLowerCase();
        if (coffeeName.includes(input)) {
          item.style.display = 'flex'; // Show item
          found = true;
        } else {
          item.style.display = 'none'; // Hide item
        }
      });
      document.getElementById('no-results').style.display = found ? 'none' : 'block';
    }

    function clearSearch() {
      document.getElementById('search-coffee').value = '';
      searchCoffee();
    }

    function updateCartBadge() {
        const cart = JSON.parse(localStorage.getItem('cart')) || [];
        const totalItems = cart.reduce((acc, item) => acc + item.quantity, 0);
        
        const cartBadge = document.getElementById('cart-badge');
        cartBadge.innerText = totalItems;

        // Show badge only if there are items in the cart
        if (totalItems > 0) {
            cartBadge.style.display = 'inline';
        } else {
            cartBadge.style.display = 'none';
        }
    }

    // Call updateCartBadge when the page loads
    window.onload = function() {
        updateCartBadge();
    };

    // Assuming you have a button with id "shop-now" to add items
    document.getElementById('shop-now').addEventListener('click', addToCart);

  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
